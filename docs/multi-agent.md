3. Human Checkpoints (Guardrails)

  ┌────────────┐
  │ Stakeholder│ → PRD.md
  └─────┬──────┘
        │
        ▼
  ┌─────────────────────┐
  │ 🛑 CHECKPOINT 1     │ ← User approves PRD
  │ "Approve PRD? [y/n]"│
  └─────────┬───────────┘
            ▼
  ┌─────────────┐
  │  Architect  │ → HLD.md + ADRs
  └─────┬───────┘
        │
        ▼
  ┌─────────────────────┐
  │ 🛑 CHECKPOINT 2     │ ← User approves architecture
  │ "Approve HLD? [y/n]"│
  └─────────┬───────────┘
            ▼
      [Implementation]

  4. Workflow Atualizado (v2)

                      ┌──────────────────┐
                      │   USER REQUEST   │
                      └────────┬─────────┘
                               │
                               ▼
  ┌─────────────────────────────────────────────────────────────┐
  │                    DISCOVERY PHASE                          │
  │  ┌─────────────────────────────────────────────────────────┐│
  │  │  STAKEHOLDER Agent (Gemini 3 Pro)                       ││
  │  │  Output: PRD.md                                         ││
  │  └─────────────────────────────────────────────────────────┘│
  │                             │                               │
  │                             ▼                               │
  │  ┌─────────────────────────────────────────────────────────┐│
  │  │  🛑 CHECKPOINT 1: User approves PRD                     ││
  │  └─────────────────────────────────────────────────────────┘│
  └─────────────────────────────────────────────────────────────┘
                               │
                               ▼
  ┌─────────────────────────────────────────────────────────────┐
  │                    DESIGN PHASE                             │
  │  ┌────────────────────────┐  ┌────────────────────────────┐ │
  │  │ ARCHITECT (Opus 4.5)   │  │ DIAGRAMMER (Gemini+Kroki)  │ │
  │  │ HLD.md, ADR-*.md       │  │ C1, C2, C3 diagrams        │ │
  │  └────────────────────────┘  └────────────────────────────┘ │
  │              [PARALELO]                                     │
  │                             │                               │
  │                             ▼                               │
  │  ┌─────────────────────────────────────────────────────────┐│
  │  │  🛑 CHECKPOINT 2: User approves Architecture            ││
  │  └─────────────────────────────────────────────────────────┘│
  └─────────────────────────────────────────────────────────────┘
                               │
                               ▼
  ┌─────────────────────────────────────────────────────────────┐
  │                 IMPLEMENTATION PHASE                        │
  │  ┌─────────────────────────────────────────────────────────┐│
  │  │  DEVELOPER Agent (GLM-4.6 / Council)                    ││
  │  │  LLD.md + Code                                          ││
  │  └─────────────────────────────────────────────────────────┘│
  │                             │                               │
  │                             ▼                               │
  │  ┌─────────────────────────────────────────────────────────┐│
  │  │  REVIEWER Agent (Reflection - Opus 4.5) ← NEW!          ││
  │  │  Code review + suggestions                              ││
  │  └─────────────────────────────────────────────────────────┘│
  │                             │                               │
  │         ┌───────────────────┼───────────────────┐           │
  │         ▼                   ▼                   ▼           │
  │  ┌────────────┐      ┌────────────┐      ┌────────────┐     │
  │  │   TESTER   │      │   DEVOPS   │      │  AUDITOR   │     │
  │  │  (Gemini)  │      │  (Gemini)  │      │  (Opus)    │     │
  │  └────────────┘      └────────────┘      └────────────┘     │
  │              [PARALELO]                                     │
  └─────────────────────────────────────────────────────────────┘
                               │
                               ▼
  ┌─────────────────────────────────────────────────────────────┐
  │                 DOCUMENTATION PHASE                         │
  │  ┌────────────────────────┐  ┌────────────────────────────┐ │
  │  │ DOCUMENTATION (Gemini) │  │ DIAGRAMMER (C4 + sequences)│ │
  │  │ README, API docs       │  │ Final diagrams             │ │
  │  └────────────────────────┘  └────────────────────────────┘ │
  │              [PARALELO]                                     │
  └─────────────────────────────────────────────────────────────┘
                               │
                               ▼
                      ┌──────────────────┐
                      │   FINAL OUTPUT   │
                      └──────────────────┘

  ---